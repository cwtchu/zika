<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>echoå›åº”</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #fff5f7 0%, #ffe6ef 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            color: #333;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(248, 113, 113, 0.15);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 192, 233, 0.3);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #e11d48;
            margin-bottom: 30px;
            font-size: 28px;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(225, 29, 72, 0.1);
        }

        h2 {
            color: #be123c;
            margin-bottom: 20px;
            font-size: 22px;
        }

        .input-group {
            margin-bottom: 30px;
        }

        input {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid #ffccd5;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background-color: #fff9fc;
        }

        input:focus {
            outline: none;
            border-color: #e11d48;
            box-shadow: 0 0 0 3px rgba(225, 29, 72, 0.1);
        }

        button {
            background: linear-gradient(45deg, #e11d48, #be123c);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 14px 30px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            font-weight: 500;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(225, 29, 72, 0.3);
        }

        button:disabled {
            background: #ffccd5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .countdown {
            font-size: 60px;
            font-weight: bold;
            color: #e11d48;
            margin: 30px 0;
            text-shadow: 0 2px 8px rgba(225, 29, 72, 0.2);
        }

        .card-result {
            margin-top: 30px;
            padding: 25px;
            background: rgba(225, 29, 72, 0.03);
            border-radius: 12px;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .word-tag {
            background: linear-gradient(45deg, #ffe6ef, #ffccd5);
            color: #be123c;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(225, 29, 72, 0.1);
        }

        .hidden {
            display: none;
        }

        .dream-name {
            color: #e11d48;
            font-weight: bold;
            text-decoration: underline dotted;
            text-underline-offset: 4px;
        }
    </style>
</head>
<body>
    <!-- é¡µé¢1ï¼šè¾“å…¥æ¢¦è§’åå­— -->
    <div id="page1" class="container">
        <h1>ğŸ’Œ å‘¼å”¤çˆ±äºº</h1>
        <div class="input-group">
            <input type="text" id="dreamCharacter" placeholder="è¯·è¾“å…¥ä½ çš„æ¢¦è§’åå­—" required>
        </div>
        <button id="btnStartCall">å¼€å§‹å‘¼å”¤</button>
    </div>

    <!-- é¡µé¢2ï¼šå€’è®¡æ—¶ -->
    <div id="page2" class="container hidden">
        <h1>ç”¨å¿ƒå‘¼å”¤ <span id="showDreamName" class="dream-name"></span></h1>
        <div class="countdown" id="countdown">5</div>
        <button id="btnEnterGame" disabled>è¿›å…¥æ¸¸æˆ</button>
    </div>

    <!-- é¡µé¢3ï¼šè¾“å…¥é—®é¢˜+æŠ½å¡ -->
    <div id="page3" class="container hidden">
        <h1><span id="showDreamName2" class="dream-name"></span> çš„å›åº”</h1>
        <div class="input-group">
            <input type="text" id="question" placeholder="è¯·è¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜" required>
        </div>
        <button id="btnDrawCard">æŠ½å¡è·å–å›åº”</button>
        <div class="card-result" id="resultContainer">
            <span style="color: #999;">æŠ½å¡åå°†æ˜¾ç¤ºå›åº”...</span>
        </div>
    </div>

    <script>
        // å…¨å±€å˜é‡å­˜å‚¨æ¢¦è§’åå­—
        let dreamName = '';

        // é¢„åˆ¶è¯è¯­åº“ï¼ˆç¬¬å››ç»„æ–°å¢æ—¶é—´è¯ã€åœ°ç‚¹è¯ï¼Œä¿ç•™åŸæœ‰æµªæ¼«æ„è±¡ï¼‰
        const wordLib = {
            emotion: [
                'é«˜å…´', 'éš¾è¿‡', 'å¯¹ä¸èµ·', 'çˆ±ä½ ', 'æ‚²ä¼¤', 'æƒŠå–œ', 
                'æ€å¿µ', 'å®³ç¾', 'æ„§ç–š', 'æ¸©æŸ”', 'å¿ƒåŠ¨', 'å§”å±ˆ', 
                'ç”œèœœ', 'å¤±è½', 'é›€è·ƒ', 'ä¸å®‰', 'ä¾æ‹', 'å® æºº',
                'åˆ«æ‰­', 'çœŸè¯š', 'çƒ­çƒˆ', 'æ·¡ç„¶', 'ç¾æ¶©', 'ç‹‚å–œ',
                'æˆ‘çˆ±ä½ ', 'å¥½æƒ³ä½ ', 'å¤ªæƒ³ä½ ', 'å¯¹ä¸èµ·å‘€', 'è¶…çˆ±ä½ ',
                'æ»¡å¿ƒæ¬¢å–œ', 'æš—è‡ªæƒ³å¿µ', 'æ·±æ·±çœ·æ‹', 'ä¾ä¾ä¸èˆ', 'æ»¡å¿ƒç‰µæŒ‚',
                'æ„§ç–šä¸å·²', 'æ»¡å¿ƒçˆ±æ„', 'å¿ƒåŠ¨ä¸å·²', 'å®³ç¾ä¸å·²', 'ç”œèœœä¸å·²'
            ],
            response: [
                'èƒ½', 'ä¸èƒ½', 'ä¸å¯ä»¥', 'æ‹’ç»', 'æ¥å—', 'æ„¿æ„', 
                'æš‚æ—¶', 'æ°¸è¿œ', 'æˆ–è®¸', 'å½“ç„¶', 'å‹‰å¼º', 'ç”˜æ„¿', 
                'é»˜è®¸', 'å¦è®¤', 'å…è®¸', 'ç¦æ­¢', 'ä¼˜å…ˆ', 'å»¶å',
                'ç ´ä¾‹', 'åšæŒ', 'å¦¥å', 'è®¤å¯', 'åå¯¹', 'é»˜è®¸',
                'å½“ç„¶æ„¿æ„', 'ç»å¯¹å¯ä»¥', 'æš‚æ—¶ä¸è¡Œ', 'æ°¸è¿œæ„¿æ„', 'ç»ä¸æ‹’ç»',
                'å¿ƒç”˜æƒ…æ„¿', 'æ»¡å¿ƒç­”åº”', 'å‹‰å¼ºåŒæ„', 'é»˜é»˜å…è®¸', 'åšå†³æ¥å—',
                'å¦ç„¶æ¥å—', 'æ¬£ç„¶åŒæ„', 'ä¸»åŠ¨æ¥å—', 'ä¸æ„¿æ‹’ç»', 'æ— æ³•æ‹’ç»'
            ],
            action: [
                'åƒ', 'çœ‹', 'å¬è§', 'å†·', 'åˆ†æ‰‹', 'å’Œå¥½', 
                'äº²å»', 'æ‹¥æŠ±', 'ç­‰å¾…', 'é™ªä¼´', 'ç‰µæ‰‹', 'å®ˆæŠ¤', 
                'ä¾å', 'å¯¹è§†', 'è§¦æ‘¸', 'å›é¿', 'é è¿‘', 'è¿œç¦»',
                'å®‰æŠš', 'æ’’å¨‡', 'ç…§é¡¾', 'æƒ³å¿µ', 'å¥”èµ´', 'åœç•™',
                'æ·±å»', 'è½»å»', 'æ‹¥æŠ±ä½ ', 'ç´§ç´§æŠ±ä½ ', 'å·å·å»ä½ ',
                'ç‰µæ‰‹æ¼«æ­¥', 'ç›¸æ‹¥è€Œçœ ', 'æ¸©æŸ”æŠšæ‘¸', 'é»˜é»˜é™ªä¼´', 'è´´èº«å®ˆæŠ¤',
                'è½»è½»ä¾å', 'æ·±æƒ…å¯¹è§†', 'ä¸»åŠ¨é è¿‘', 'ç´§ç´§ç‰µæ‰‹', 'ç”¨å¿ƒç…§é¡¾',
                'å·å·æƒ³å¿µ', 'å¥”èµ´å‘ä½ ', 'ä¸ºä½ åœç•™', 'æ¸©æŸ”å®‰æŠš', 'å‘ä½ æ’’å¨‡'
            ],
            intention: [
                // åŸæœ‰æµªæ¼«æ„è±¡
                'èŠ±', 'é£', 'çœ¼', 'æ˜Ÿ', 'æœˆ', 'é›¨', 'å…‰', 'æµ·', 'é›ª', 'é›¾',
                'äº‘', 'éœ²', 'å¶', 'ç«', 'ç³–', 'ä¿¡', 'æ­Œ', 'æ¢¦', 'é¦™', 'æš–',
                'å½±', 'ç—•', 'è¯—', 'ç«ç‘°', 'æ˜Ÿå…‰', 'æœˆå…‰', 'ç»†é›¨', 'æš–é˜³', 'ç”œç³–', 'æƒ…ä¹¦',
                'æƒ…æ­Œ', 'ç¾æ¢¦', 'èŠ±é¦™', 'æ¸©æŸ”é£', 'æ˜Ÿå…‰æµ·', 'æœˆå…‰ä¸‹', 'ç»†é›¨ä¸­', 'æš–é˜³é‡Œ', 'ç«ç‘°èŠ±', 'ç”œç³–æœ',
                // æ–°å¢æ—¶é—´è¯
                'åœ£è¯èŠ‚', 'æ˜å¹´', 'æ˜å¤©', 'ä»Šæ™š', 'è·¨å¹´', 'æ–°å¹´', 'ä¸ƒå¤•', 'æƒ…äººèŠ‚', 'ç”Ÿæ—¥', 'å‘¨æœ«',
                'å‡Œæ™¨', 'é»„æ˜', 'æ·±å¤œ', 'æ—©æ˜¥', 'ç››å¤', 'æ™šç§‹', 'åˆå†¬', 'æ˜å¹´ä»Šæ—¥', 'ä¸‹ä¸€ä¸ªå†¬å¤©', 'ä¸‹ä¸€ä¸ªå¤å¤©',
                // æ–°å¢åœ°ç‚¹è¯
                'æµ·è¾¹', 'å±±é¡¶', 'å¤©å°', 'ä¹¦æˆ¿', 'è¡—è§’', 'å…¬å›­', 'èŠ±åº—', 'å’–å•¡é¦†', 'ç”µå½±é™¢', 'é›ªåœ°é‡Œ',
                'æ˜Ÿç©ºä¸‹', 'è·¯ç¯æ—', 'æ ‘è«ä¸‹', 'å£ç‚‰è¾¹', 'æ²™å‘ä¸Š', 'çª—å°è¾¹', 'èµ°å»Šå°½å¤´', 'æ— äººè¡—è§’', 'ä¸“å±è§’è½'
            ]
        };

        // é¡µé¢å…ƒç´ 
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const page3 = document.getElementById('page3');
        const dreamCharacterInput = document.getElementById('dreamCharacter');
        const btnStartCall = document.getElementById('btnStartCall');
        const showDreamName = document.getElementById('showDreamName');
        const showDreamName2 = document.getElementById('showDreamName2');
        const countdown = document.getElementById('countdown');
        const btnEnterGame = document.getElementById('btnEnterGame');
        const questionInput = document.getElementById('question');
        const btnDrawCard = document.getElementById('btnDrawCard');
        const resultContainer = document.getElementById('resultContainer');

        // é¡µé¢1ï¼šå¼€å§‹å‘¼å”¤æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        btnStartCall.addEventListener('click', () => {
            const name = dreamCharacterInput.value.trim();
            if (!name) {
                alert('è¯·è¾“å…¥ä½ çš„æ¢¦è§’åå­—å“¦ï½');
                return;
            }
            dreamName = name;
            showDreamName.textContent = dreamName;
            showDreamName2.textContent = dreamName;
            page1.classList.add('hidden');
            page2.classList.remove('hidden');
            
            // å€’è®¡æ—¶é€»è¾‘
            let count = 5;
            const timer = setInterval(() => {
                count--;
                countdown.textContent = count;
                if (count <= 0) {
                    clearInterval(timer);
                    btnEnterGame.disabled = false;
                    btnEnterGame.textContent = 'ç‚¹å‡»ç¡®å®šè”ç³»';
                }
            }, 1000);
        });

        // é¡µé¢2ï¼šè¿›å…¥æ¸¸æˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        btnEnterGame.addEventListener('click', () => {
            page2.classList.add('hidden');
            page3.classList.remove('hidden');
        });

        // é¡µé¢3ï¼šæŠ½å¡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        btnDrawCard.addEventListener('click', () => {
            const question = questionInput.value.trim();
            if (!question) {
                alert('è¯·è¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜å‘€ï½');
                return;
            }

            // æ¸…ç©ºä¹‹å‰çš„ç»“æœ
            resultContainer.innerHTML = '';
            
            // æŠ½å¡é€»è¾‘ï¼šå‰ä¸‰ç»„å¿…æŠ½ï¼ˆæ¯ç»„1ä¸ªï¼‰ï¼Œç¬¬å››ç»„30%æ¦‚ç‡æŠ½å–
            const selectedWords = [];
            selectedWords.push(getRandomWordFromGroup('emotion'));
            selectedWords.push(getRandomWordFromGroup('response'));
            selectedWords.push(getRandomWordFromGroup('action'));
            
            // 30%æ¦‚ç‡æŠ½å–æ„å‘è¯è¯­ç»„ï¼ˆå«æ–°å¢æ—¶é—´/åœ°ç‚¹è¯ï¼‰
            const isDrawFourthGroup = Math.random() < 0.3;
            if (isDrawFourthGroup) {
                selectedWords.push(getRandomWordFromGroup('intention'));
            }

            // éšæœºæ‰“ä¹±è¯è¯­é¡ºåº
            const shuffledWords = selectedWords.sort(() => Math.random() - 0.5);

            // æ˜¾ç¤ºæŠ½å–çš„è¯è¯­
            shuffledWords.forEach(word => {
                const wordTag = document.createElement('span');
                wordTag.className = 'word-tag';
                wordTag.textContent = word;
                resultContainer.appendChild(wordTag);
            });

            // æŒ‰é’®çŠ¶æ€åˆ‡æ¢
            btnDrawCard.disabled = true;
            btnDrawCard.textContent = 'å·²å›åº”ï¼Œå¯é‡æ–°è¾“å…¥é—®é¢˜';
            
            // è¾“å…¥æ¡†å˜åŒ–æ—¶æ¢å¤æŒ‰é’®çŠ¶æ€
            questionInput.addEventListener('input', function resetBtn() {
                btnDrawCard.disabled = false;
                btnDrawCard.textContent = 'ç‚¹å‡»è·å–å›åº”';
                questionInput.removeEventListener('input', resetBtn);
            });
        });

        // å·¥å…·å‡½æ•°ï¼šä»æŒ‡å®šç»„ä¸­éšæœºæŠ½å–1ä¸ªè¯è¯­
        function getRandomWordFromGroup(groupName) {
            const group = wordLib[groupName];
            return group[Math.floor(Math.random() * group.length)];
        }
    </script>
</body>
</html>
